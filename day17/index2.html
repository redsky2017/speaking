<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Day 15â€“21 Play Time</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      touch-action: manipulation;
    }
    .pb-safe { padding-bottom: env(safe-area-inset-bottom); }
    .btn-press:active {
      transform: scale(0.95);
      opacity: 0.8;
    }
    .hide-scrollbar::-webkit-scrollbar { display: none; }

    .blur-reveal {
      filter: blur(8px);
      opacity: 0.5;
      transition: all 0.5s ease;
      user-select: none;
      cursor: pointer;
    }
    .revealed {
      filter: blur(0);
      opacity: 1;
      cursor: default;
    }

    .animate-fade-in { animation: fadeIn 0.3s ease-out; }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    input[type=range] {
      -webkit-appearance: none;
      width: 100%;
      height: 4px;
      background: #cbd5e1;
      border-radius: 2px;
      outline: none;
    }
    input[type=range]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 14px;
      height: 14px;
      border-radius: 50%;
      background: #3b82f6;
      cursor: pointer;
      border: 2px solid white;
      box-shadow: 0 1px 3px rgba(0,0,0,0.3);
      transition: transform 0.1s;
    }
    input[type=range]::-webkit-slider-thumb:active {
      transform: scale(1.3);
      background: #2563eb;
    }
  </style>
</head>
<body class="bg-slate-50 text-gray-800 select-none">
<div id="root"></div>

<script type="text/babel">
  const { useState, useEffect, useRef } = React;

  // â­ï¸ æ¯ä¸ªæ–‡ä»¶æ”¹è¿™é‡Œï¼š15 / 16 / 17 / 18 / 19 / 20 / 21
  const dayNumber = 17;

  // ---- å›¾æ ‡ ----
  const IconBall   = () => <span className="text-6xl">ğŸŸ¢</span>;
  const IconThrow  = () => <span className="text-6xl">ğŸ¤¾â€â™‚ï¸</span>;
  const IconRoll   = () => <span className="text-6xl">ğŸŒ€</span>;
  const IconCatch  = () => <span className="text-6xl">âœ‹</span>;

  const IconRun    = () => <span className="text-6xl">ğŸƒâ€â™‚ï¸</span>;
  const IconJump   = () => <span className="text-6xl">ğŸ¦˜</span>;
  const IconStop   = () => <span className="text-6xl">ğŸ›‘</span>;
  const IconGo     = () => <span className="text-6xl">ğŸš¦</span>;

  const IconCar    = () => <span className="text-6xl">ğŸš—</span>;
  const IconBeep   = () => <span className="text-6xl">ğŸ“£</span>;
  const IconDrive  = () => <span className="text-6xl">ğŸš™</span>;
  const IconFast   = () => <span className="text-6xl">ğŸ’¨</span>;

  const IconBlue   = () => <span className="text-6xl">ğŸ”µ</span>;
  const IconGreen  = () => <span className="text-6xl">ğŸŸ¢</span>;
  const IconRed    = () => <span className="text-6xl">ğŸ”´</span>;
  const IconYellow = () => <span className="text-6xl">ğŸŸ¡</span>;

  const IconHand   = () => <span className="text-6xl">ğŸ¤š</span>;
  const IconClap   = () => <span className="text-6xl">ğŸ‘</span>;
  const IconHigh5  = () => <span className="text-6xl">ğŸ™Œ</span>;
  const IconFinger = () => <span className="text-6xl">â˜ï¸</span>;

  const IconOpen   = () => <span className="text-6xl">ğŸšª</span>;
  const IconClose  = () => <span className="text-6xl">âŒ</span>;
  const IconDoor   = () => <span className="text-6xl">ğŸšª</span>;
  const IconBox    = () => <span className="text-6xl">ğŸ“¦</span>;

  const IconPlayWeek = () => <span className="text-6xl">ğŸ®</span>;

  const IconVolume = () => <span>ğŸ”Š</span>;
  const IconPlay   = () => <span className="ml-1 text-xl">â–¶ï¸</span>;
  const IconPause  = () => <span className="text-xl">â¸ï¸</span>;
  const IconCheck  = () => <span className="text-blue-500">âœ…</span>;
  const IconCircle = () => <div className="w-5 h-5 rounded-full border-2 border-gray-300"></div>;
  const IconBook   = () => <span className="text-2xl">ğŸ“š</span>;

  // ---- Day 15â€“21 å…¨éƒ¨å†…å®¹ ----
  const allContent = {
    15: {
      title: "Day 15: Throw the Ball",
      icon: <IconBall />,
      vocab: [
        {
          word: "ball",
          cn: "çƒ",
          icon: <IconBall />,
          sentence: "Ball, ball, ball.",
          audioWord: "word_ball.mp3",
          audioSent: "sent_ball_ball_ball.mp3"
        },
        {
          word: "throw",
          cn: "æ‰” / æŠ›",
          icon: <IconThrow />,
          sentence: "Throw the ball.",
          audioWord: "word_throw.mp3",
          audioSent: "sent_throw_the_ball.mp3"
        },
        {
          word: "roll",
          cn: "æ»šåŠ¨",
          icon: <IconRoll />,
          sentence: "Roll the ball.",
          audioWord: "word_roll.mp3",
          audioSent: "sent_roll_the_ball.mp3"
        },
        {
          word: "catch",
          cn: "æ¥ä½",
          icon: <IconCatch />,
          sentence: "Catch the ball.",
          audioWord: "word_catch.mp3",
          audioSent: "sent_catch_the_ball.mp3"
        }
      ],
      script: [
        {
          step: 1,
          action: "åŠ¨ä½œï¼šæŠŠçƒä¸¾é«˜ï¼Œè®©å­©å­ç”¨çœ¼ç›è·Ÿç€çƒç§»åŠ¨ï¼Œå†è½»è½»æ»šå‘ä»–",
          parentSay: "Ball, ball, ball.",
          cn: "çƒçƒçƒï¼Œå°çƒæ¥å•¦ã€‚",
          tip: "å¯ä»¥ä¸€è¾¹è½»è½»æ»šçƒï¼Œä¸€è¾¹é‡å¤â€œball, ball, ballâ€ï¼Œè®©å­©å­å…ˆè®¤è¯†â€œçƒâ€ã€‚",
          audio: "guide_day15_step1.mp3"
        },
        {
          step: 2,
          action: "åŠ¨ä½œï¼šæŠŠçƒæ”¾åˆ°å­©å­æ‰‹é‡Œï¼ŒåŒæ‰‹åŒ…ç€ä»–çš„æ‰‹ä¸€èµ·åšæŠ›çš„åŠ¨ä½œ",
          parentSay: "Throw the ball.",
          cn: "æŠŠçƒæ‰”å‡ºå»ã€‚",
          tip: "å…ˆå¸®ä»–ä¸€èµ·æ‰”ï¼Œå†æ…¢æ…¢æ”¾æ‰‹ï¼Œè®©ä»–è‡ªå·±è¯•ç€æ‰”å‡ºå»ã€‚",
          audio: "guide_day15_step2.mp3"
        },
        {
          step: 3,
          action: "åŠ¨ä½œï¼šä½ æ¥ä½çƒï¼Œå¤§å£°è¯´Ball! å†æ‰”å›å»ï¼Œè®©æ¸¸æˆå¾ªç¯",
          parentSay: "Throw the ball to me.",
          cn: "æŠŠçƒæ‰”ç»™æˆ‘ã€‚",
          tip: "æ¯æ¬¡æ¥åˆ°çƒæ—¶å¤¸å¼ åœ°è¯´â€œBall!â€è®©å­©å­è§‰å¾—è¿™æ˜¯ä¸€ä¸ªæœ‰èŠ‚å¥çš„æ¸¸æˆã€‚",
          audio: "guide_day15_step3.mp3"
        }
      ],
      story: {
        title: "Throw the Ball",
        textEn: "Little Robot has a green ball. He holds the ball in his hands. Mom says, \"Ball, ball, ball.\" Robot smiles. Mom stands a few steps away. She opens her arms and says, \"Throw the ball.\" Robot swings his arms and throws. The ball rolls to Mom. She catches it and shouts, \"Ball!\" They throw and catch again and again. Robot laughs and says, \"Throw the ball to Mom!\"",
        textCn: "å°æœºå™¨äººæœ‰ä¸€ä¸ªç»¿ç»¿çš„çƒã€‚ä»–æŠŠçƒæ§åœ¨æ‰‹é‡Œã€‚å¦ˆå¦ˆè¯´ï¼šâ€œBall, ball, ball.ï¼ˆçƒçƒçƒã€‚ï¼‰â€å°æœºå™¨äººç¬‘äº†ã€‚å¦ˆå¦ˆå¾€åé€€å‡ æ­¥ï¼Œå¼ å¼€åŒè‡‚è¯´ï¼šâ€œThrow the ball.ï¼ˆæŠŠçƒæ‰”è¿‡æ¥ã€‚ï¼‰â€å°æœºå™¨äººç”¨åŠ›ä¸€æŒ¥æ‰‹ï¼Œçƒæ»šåˆ°å¦ˆå¦ˆè„šè¾¹ã€‚å¦ˆå¦ˆæ¥ä½çƒï¼Œå¤§å£°å–Šï¼šâ€œBallï¼ï¼ˆçƒï¼ï¼‰â€ä»–ä»¬ä¸€ééåœ°æ‰”çƒã€æ¥çƒï¼Œå°æœºå™¨äººä¸€è¾¹ç¬‘ä¸€è¾¹è¯´ï¼šâ€œThrow the ball to Mom!ï¼ˆæŠŠçƒæ‰”ç»™å¦ˆå¦ˆï¼ï¼‰â€",
        audio: "story_day15.mp3"
      },
      scenarioText: "Ball, ball, ball. Roll the ball. Throw the ball. Catch the ball.",
      scenarioAudio: "scenario_day15.mp3"
    },

    16: {
      title: "Day 16: Run & Jump",
      icon: <IconRun />,
      vocab: [
        {
          word: "run",
          cn: "è·‘",
          icon: <IconRun />,
          sentence: "Run, run, run.",
          audioWord: "word_run.mp3",
          audioSent: "sent_run_run_run.mp3"
        },
        {
          word: "jump",
          cn: "è·³",
          icon: <IconJump />,
          sentence: "Jump, jump, jump!",
          audioWord: "word_jump.mp3",
          audioSent: "sent_jump_jump_jump.mp3"
        },
        {
          word: "stop",
          cn: "åœ",
          icon: <IconStop />,
          sentence: "Stop!",
          audioWord: "word_stop.mp3",
          audioSent: "sent_stop.mp3"
        },
        {
          word: "go",
          cn: "èµ° / å‡ºå‘",
          icon: <IconGo />,
          sentence: "Go, go, go!",
          audioWord: "word_go.mp3",
          audioSent: "sent_go_go_go.mp3"
        }
      ],
      script: [
        {
          step: 1,
          action: "åŠ¨ä½œï¼šåœ¨åœ°ä¸Šç”»ä¸€æ¡çº¿ï¼Œå’Œå­©å­ç«™åœ¨çº¿åï¼Œåšå‡†å¤‡è·‘æ­¥çš„å§¿åŠ¿",
          parentSay: "Run, run, run.",
          cn: "è·‘è·‘è·‘ï¼Œæˆ‘ä»¬æ¥è·‘æ­¥ã€‚",
          tip: "å¯ä»¥ä»æ…¢è·‘å¼€å§‹ï¼Œè¾¹è·‘è¾¹å¿µâ€œrun, run, runâ€ï¼Œçªç„¶åœä¸‹æ¥ï¼Œå¢åŠ ä¹è¶£ã€‚",
          audio: "guide_day16_step1.mp3"
        },
        {
          step: 2,
          action: "åŠ¨ä½œï¼šåœ¨å‰é¢æ”¾ä¸€ä¸ªè½¯å«æˆ–æ•å¤´ï¼Œå½“ä½œâ€œè·³è·³ç‚¹â€",
          parentSay: "Jump, jump, jump!",
          cn: "è·³è·³è·³ï¼Œè·³èµ·æ¥ï¼",
          tip: "å…ˆè‡ªå·±ç¤ºèŒƒåƒå°å…”å­ä¸€æ ·è·³ï¼Œå†ç‰µç€å­©å­çš„æ‰‹ä¸€èµ·è·³åˆ°å«å­ä¸Šã€‚",
          audio: "guide_day16_step2.mp3"
        },
        {
          step: 3,
          action: "åŠ¨ä½œï¼šäº¤æ›¿è¯´ run / jumpï¼Œè®©å­©å­å¬æŒ‡ä»¤åšåŠ¨ä½œ",
          parentSay: "Run! Jump! Run! Jump!",
          cn: "è·‘ï¼è·³ï¼è·‘ï¼è·³ï¼",
          tip: "å¯ä»¥æ•…æ„â€œä¹±å–Šâ€å‡ æ¬¡ï¼Œçœ‹å­©å­æœ‰æ²¡æœ‰è®¤çœŸå¬ï¼Œåšé”™äº†å°±ä¸€èµ·å¤§ç¬‘æ”¾æ¾ã€‚",
          audio: "guide_day16_step3.mp3"
        }
      ],
      story: {
        title: "Run and Jump",
        textEn: "Little Robot goes to the park with Mom. There is a long path and a soft grass hill. Mom says, \"Run, run, run.\" Robot runs down the path. His feet go tap, tap, tap. Then Mom points to the hill and says, \"Jump, jump, jump!\" Robot bends his knees and jumps up the hill like a little rabbit. At the top, they both laugh and say, \"Run and jump is fun!\"",
        textCn: "å°æœºå™¨äººå’Œå¦ˆå¦ˆä¸€èµ·å»å…¬å›­ã€‚é‚£é‡Œæœ‰ä¸€æ¡é•¿é•¿çš„å°è·¯ï¼Œè¿˜æœ‰ä¸€å—è½¯è½¯çš„å°è‰å¡ã€‚å¦ˆå¦ˆè¯´ï¼šâ€œRun, run, run.ï¼ˆè·‘è·‘è·‘ã€‚ï¼‰â€å°æœºå™¨äººåœ¨å°è·¯ä¸Šè·‘èµ·æ¥ï¼Œè„šæ­¥å‘å‡ºâ€œå—’å—’å—’â€çš„å£°éŸ³ã€‚ç„¶åå¦ˆå¦ˆæŒ‡ç€å°è‰å¡è¯´ï¼šâ€œJump, jump, jump!ï¼ˆè·³è·³è·³ï¼ï¼‰â€å°æœºå™¨äººå¼¯å¼¯è…¿ï¼Œåƒå°å…”å­ä¸€æ ·ä¸€è·³ä¸€è·³å¾€ä¸Šè·³ã€‚åˆ°äº†å¡é¡¶ï¼Œä»–ä»¬ä¸€èµ·ç¬‘ç€è¯´ï¼šâ€œRun and jump is fun!ï¼ˆè·‘è·‘è·³è·³çœŸå¥½ç©ï¼ï¼‰â€",
        audio: "story_day16.mp3"
      },
      scenarioText: "Run, run, run. Jump, jump, jump. Go, go, go. Stop!",
      scenarioAudio: "scenario_day16.mp3"
    },

    17: {
      title: "Day 17: Beep, Beep, Car!",
      icon: <IconCar />,
      vocab: [
        {
          word: "car",
          cn: "æ±½è½¦",
          icon: <IconCar />,
          sentence: "Car, car, car.",
          audioWord: "word_car.mp3",
          audioSent: "sent_car_car_car.mp3"
        },
        {
          word: "beep",
          cn: "å˜€å˜€ / æŒ‰å–‡å­",
          icon: <IconBeep />,
          sentence: "Beep, beep, car!",
          audioWord: "word_beep.mp3",
          audioSent: "sent_beep_beep_car.mp3"
        },
        {
          word: "drive",
          cn: "å¼€è½¦",
          icon: <IconDrive />,
          sentence: "Drive the car.",
          audioWord: "word_drive.mp3",
          audioSent: "sent_drive_the_car.mp3"
        },
        {
          word: "fast",
          cn: "å¿«çš„",
          icon: <IconFast />,
          sentence: "So fast.",
          audioWord: "word_fast.mp3",
          audioSent: "sent_so_fast.mp3"
        }
      ],
      script: [
        {
          step: 1,
          action: "åŠ¨ä½œï¼šæ‹¿ä¸€ä¸ªç›˜å­å½“æ–¹å‘ç›˜ï¼Œååœ¨åœ°ä¸Šå‡è£…å¼€è½¦",
          parentSay: "Car, car, car.",
          cn: "å¼€è½¦å•¦ï¼Œå¼€è½¦å•¦ã€‚",
          tip: "å¤¸å¼ åœ°å·¦å³è½¬æ–¹å‘ç›˜ï¼Œè®©å­©å­ä¹Ÿæ‹¿ä¸€ä¸ªâ€œæ–¹å‘ç›˜â€è·Ÿç€å­¦ã€‚",
          audio: "guide_day17_step1.mp3"
        },
        {
          step: 2,
          action: "åŠ¨ä½œï¼šå‡è£…å‰é¢æœ‰å°åŠ¨ç‰©æˆ–è·¯äººï¼Œçªç„¶æŒ‰å–‡å­",
          parentSay: "Beep, beep, car!",
          cn: "å˜€å˜€ï¼Œæ±½è½¦æ¥äº†ï¼",
          tip: "å¯ä»¥å’Œå­©å­çº¦å®šï¼šå¬åˆ°â€œbeep, beepâ€å°±è¦åŸåœ°è·³ä¸€ä¸‹æˆ–è€…æŒ¥æŒ¥æ‰‹ã€‚",
          audio: "guide_day17_step2.mp3"
        },
        {
          step: 3,
          action: "åŠ¨ä½œï¼šåœ¨æˆ¿é—´é‡Œç»•åœˆâ€œå¼€è½¦â€ï¼Œé‡åˆ°é—¨å£æˆ–ç©å¶å°±æŒ‰å–‡å­",
          parentSay: "Beep, beep! Car is coming!",
          cn: "å˜€å˜€ï¼Œæ±½è½¦è¦å¼€è¿‡æ¥äº†ï¼",
          tip: "å¯ä»¥è®©å­©å­è½®æµå½“â€œè½¦â€å’Œâ€œè·¯äººâ€ï¼Œå¢åŠ è§’è‰²æ‰®æ¼”çš„ä¹è¶£ã€‚",
          audio: "guide_day17_step3.mp3"
        }
      ],
      story: {
        title: "Beep, Beep, Car",
        textEn: "Little Robot sits on the floor with a round plate in his hands. \"Car, car, car,\" he says. He drives around the room. Mom stands in front of him like a big tree. Robot smiles and says, \"Beep, beep, car!\" Mom steps to the side and laughs. Robot drives past the sofa, the chair, and the door. Every time he sees something, he shouts, \"Beep, beep!\" The room becomes a busy car road.",
        textCn: "å°æœºå™¨äººååœ¨åœ°ä¸Šï¼Œæ‰‹é‡Œæ‹¿ç€ä¸€ä¸ªåœ†ç›˜ï¼Œå½“ä½œæ–¹å‘ç›˜ã€‚ä»–ä¸€è¾¹è½¬æ–¹å‘ç›˜ä¸€è¾¹è¯´ï¼šâ€œCar, car, car.ï¼ˆæ±½è½¦ï¼Œæ±½è½¦ï¼Œæ±½è½¦ã€‚ï¼‰â€ä»–åœ¨æˆ¿é—´é‡Œå¼€æ¥å¼€å»ã€‚å¦ˆå¦ˆç«™åœ¨ä»–å‰é¢ï¼Œåƒä¸€æ£µå¤§æ ‘ã€‚å°æœºå™¨äººç¬‘ç€è¯´ï¼šâ€œBeep, beep, car!ï¼ˆå˜€å˜€ï¼Œæ±½è½¦æ¥äº†ï¼ï¼‰â€å¦ˆå¦ˆèµ¶ç´§è®©å¼€ï¼Œä¸€è¾¹ç¬‘ã€‚å°æœºå™¨äººå¼€è½¦ä»æ²™å‘ã€æ¤…å­å’Œé—¨å£æ—è¾¹ç»è¿‡ï¼Œæ¯çœ‹åˆ°ä¸€ä¸ªä¸œè¥¿å°±å¤§å«ï¼šâ€œBeep, beep!ï¼ˆå˜€å˜€ï¼ï¼‰â€æ•´ä¸ªæˆ¿é—´å˜æˆäº†çƒ­é—¹çš„é©¬è·¯ã€‚",
        audio: "story_day17.mp3"
      },
      scenarioText: "Car, car, car. Drive the car. Beep, beep, car! So fast!",
      scenarioAudio: "scenario_day17.mp3"
    },

    18: {
      title: "Day 18: Blue & Green & More",
      icon: <IconBlue />,
      vocab: [
        {
          word: "blue",
          cn: "è“è‰²",
          icon: <IconBlue />,
          sentence: "I see blue.",
          audioWord: "word_blue.mp3",
          audioSent: "sent_i_see_blue.mp3"
        },
        {
          word: "green",
          cn: "ç»¿è‰²",
          icon: <IconGreen />,
          sentence: "I see green.",
          audioWord: "word_green.mp3",
          audioSent: "sent_i_see_green.mp3"
        },
        {
          word: "red",
          cn: "çº¢è‰²",
          icon: <IconRed />,
          sentence: "I see red.",
          audioWord: "word_red_color.mp3",
          audioSent: "sent_i_see_red.mp3"
        },
        {
          word: "yellow",
          cn: "é»„è‰²",
          icon: <IconYellow />,
          sentence: "I see yellow.",
          audioWord: "word_yellow.mp3",
          audioSent: "sent_i_see_yellow.mp3"
        }
      ],
      script: [
        {
          step: 1,
          action: "åŠ¨ä½œï¼šæ‹¿å‡ºä¸€ä»¶è“è‰²å’Œä¸€ä»¶ç»¿è‰²çš„ç‰©å“ï¼Œæ”¾åœ¨å­©å­é¢å‰",
          parentSay: "Blue. Green.",
          cn: "è¿™æ˜¯è“è‰²ï¼Œè¿™æ˜¯ç»¿è‰²ã€‚",
          tip: "å¯ä»¥è®©å­©å­ç”¨æ‰‹æŒ‡ç‚¹ä¸€ä¸‹ä¸€æ¬¡è¯´â€œblueâ€æˆ–â€œgreenâ€ï¼Œå¸®åŠ©å»ºç«‹é¢œè‰²å’Œå•è¯çš„å¯¹åº”ã€‚",
          audio: "guide_day18_step1.mp3"
        },
        {
          step: 2,
          action: "åŠ¨ä½œï¼šæŒ‡ç€è“è‰²çš„ä¸œè¥¿ï¼Œæ…¢æ…¢è¯´å‡ºå¥å­",
          parentSay: "I see blue.",
          cn: "æˆ‘çœ‹åˆ°è“è‰²äº†ã€‚",
          tip: "è¯´å®Œå¯ä»¥ç”¨å¤¸å¼ çš„çœ¼ç¥â€œå‘ç°â€è“è‰²ï¼Œè¡¨ç°å‡ºå¾ˆæƒŠå–œçš„æ ·å­ã€‚",
          audio: "guide_day18_step2.mp3"
        },
        {
          step: 3,
          action: "åŠ¨ä½œï¼šå¼€å§‹å¯»å®æ¸¸æˆï¼Œè®©å­©å­å»æ‰¾è“è‰²æˆ–ç»¿è‰²çš„ä¸œè¥¿å¹¶æ‘¸ä¸€ä¸‹",
          parentSay: "Find blue. Find green.",
          cn: "å»æ‰¾è“è‰²ï¼Œå»æ‰¾ç»¿è‰²ã€‚",
          tip: "æ¯æ¬¡æ‰¾åˆ°é¢œè‰²å°±ä¸€èµ·è¯´â€œI see blue / green.â€ï¼Œå¹¶ç»™ä¸€ä¸ªå°æ‹¥æŠ±æˆ–å‡»æŒã€‚",
          audio: "guide_day18_step3.mp3"
        }
      ],
      story: {
        title: "I See Blue and Green",
        textEn: "Little Robot plays a color game with Mom. Mom holds a blue ball and a green block. \"Blue. Green,\" she says. Robot points to the ball. Mom says, \"I see blue.\" Robot looks around the room. He sees a blue pillow and a green plant. He runs to the pillow and shouts, \"I see blue!\" Then he runs to the plant and says, \"I see green!\" Mom claps and says, \"Colors are fun!\"",
        textCn: "å°æœºå™¨äººå’Œå¦ˆå¦ˆåœ¨ç©é¢œè‰²æ¸¸æˆã€‚å¦ˆå¦ˆæ‹¿ç€ä¸€ä¸ªè“è‰²çš„çƒå’Œä¸€å—ç»¿è‰²çš„ç§¯æœ¨ï¼Œè¯´ï¼šâ€œBlue. Green.ï¼ˆè“è‰²ï¼Œç»¿è‰²ã€‚ï¼‰â€å°æœºå™¨äººç”¨æ‰‹æŒ‡ç‚¹äº†ç‚¹çƒã€‚å¦ˆå¦ˆè¯´ï¼šâ€œI see blue.ï¼ˆæˆ‘çœ‹åˆ°è“è‰²äº†ã€‚ï¼‰â€å°æœºå™¨äººä¸œçœ‹çœ‹è¥¿çœ‹çœ‹ï¼Œå‘ç°æˆ¿é—´é‡Œæœ‰ä¸€ä¸ªè“è‰²çš„é å«ï¼Œè¿˜æœ‰ä¸€ç›†ç»¿è‰²çš„å°æ¤ç‰©ã€‚ä»–è·‘åˆ°é å«é‚£é‡Œå¤§å«ï¼šâ€œI see blue!ï¼ˆæˆ‘çœ‹åˆ°è“è‰²ï¼ï¼‰â€åˆè·‘åˆ°æ¤ç‰©æ—è¾¹è¯´ï¼šâ€œI see green!ï¼ˆæˆ‘çœ‹åˆ°ç»¿è‰²ï¼ï¼‰â€å¦ˆå¦ˆæ‹æ‰‹è¯´ï¼šâ€œColors are fun!ï¼ˆé¢œè‰²çœŸå¥½ç©ï¼ï¼‰â€",
        audio: "story_day18.mp3"
      },
      scenarioText: "Blue, green, red, yellow. I see blue. I see green. I see red. I see yellow.",
      scenarioAudio: "scenario_day18.mp3"
    },

    19: {
      title: "Day 19: Clap Your Hands",
      icon: <IconClap />,
      vocab: [
        {
          word: "hand",
          cn: "æ‰‹",
          icon: <IconHand />,
          sentence: "My hand.",
          audioWord: "word_hand.mp3",
          audioSent: "sent_my_hand.mp3"
        },
        {
          word: "clap",
          cn: "æ‹æ‰‹",
          icon: <IconClap />,
          sentence: "Clap your hands.",
          audioWord: "word_clap.mp3",
          audioSent: "sent_clap_your_hands.mp3"
        },
        {
          word: "high five",
          cn: "å‡»æŒ",
          icon: <IconHigh5 />,
          sentence: "High five!",
          audioWord: "word_high_five.mp3",
          audioSent: "sent_high_five.mp3"
        },
        {
          word: "finger",
          cn: "æ‰‹æŒ‡",
          icon: <IconFinger />,
          sentence: "Little finger.",
          audioWord: "word_finger.mp3",
          audioSent: "sent_little_finger.mp3"
        }
      ],
      script: [
        {
          step: 1,
          action: "åŠ¨ä½œï¼šè½»è½»æ§èµ·å­©å­çš„ä¸¤åªæ‰‹ï¼Œæ™ƒä¸€æ™ƒ",
          parentSay: "My hand. Your hand.",
          cn: "æˆ‘çš„æ‰‹ï¼Œä½ çš„æ‰‹ã€‚",
          tip: "å¯ä»¥å…ˆæŒ‡è‡ªå·±çš„æ‰‹è¯´â€œmy handâ€ï¼Œå†æŒ‡å­©å­çš„æ‰‹è¯´â€œyour handâ€ã€‚",
          audio: "guide_day19_step1.mp3"
        },
        {
          step: 2,
          action: "åŠ¨ä½œï¼šæŠŠå­©å­çš„åŒæ‰‹åˆåœ¨ä¸€èµ·ï¼Œæ…¢æ…¢å¸¦ç€ä»–æ‹æ‰‹",
          parentSay: "Clap your hands.",
          cn: "æ‹æ‹æ‰‹ã€‚",
          tip: "ä¸€è¾¹æ‹ä¸€è¾¹æ•°èŠ‚å¥ï¼Œæ¯”å¦‚â€œone, two, threeâ€ï¼Œè®©æ‹æ‰‹å˜æˆå°é¼“ç‚¹ã€‚",
          audio: "guide_day19_step2.mp3"
        },
        {
          step: 3,
          action: "åŠ¨ä½œï¼šå¼€å§‹èŠ‚å¥æ¸¸æˆï¼Œæ¯”å¦‚æ‹ä¸¤ä¸‹åœä¸€ä¸‹ï¼Œå†æ‹ä¸‰ä¸‹",
          parentSay: "Clap, clap, clap!",
          cn: "æ‹æ‹æ‹ï¼",
          tip: "æ•…æ„çªç„¶åœä¸‹æ¥ï¼Œçœ‹å­©å­ä¼šä¸ä¼šä¹Ÿåœï¼Œå˜æˆâ€œå¬æŒ‡ä»¤â€çš„æ¸¸æˆã€‚",
          audio: "guide_day19_step3.mp3"
        }
      ],
      story: {
        title: "Clap, Clap, Clap",
        textEn: "Little Robot sits on the floor. Mom holds his hands and says, \"My hand. Your hand.\" Robot wiggles his fingers. Mom smiles and says, \"Clap your hands.\" Clap, clap, clap. The sound is like little drums. Robot claps fast. Robot claps slow. Mom claps with him. They clap together and laugh. Robot says, \"Clap, clap, clap!\"",
        textCn: "å°æœºå™¨äººååœ¨åœ°ä¸Šã€‚å¦ˆå¦ˆæ¡ç€ä»–çš„æ‰‹è¯´ï¼šâ€œMy hand. Your hand.ï¼ˆæˆ‘çš„æ‰‹ï¼Œä½ çš„æ‰‹ã€‚ï¼‰â€å°æœºå™¨äººæ™ƒäº†æ™ƒè‡ªå·±çš„æ‰‹æŒ‡ã€‚å¦ˆå¦ˆç¬‘ç€è¯´ï¼šâ€œClap your hands.ï¼ˆæ‹æ‹æ‰‹ã€‚ï¼‰â€ clap, clap, clapï¼Œå¬èµ·æ¥åƒå°é¼“åœ¨æ•²ã€‚å°æœºå™¨äººæ‹å¾—å¿«ä¸€ç‚¹ï¼Œåˆæ‹å¾—æ…¢ä¸€ç‚¹ã€‚å¦ˆå¦ˆä¹Ÿè·Ÿç€ä¸€èµ·æ‹ã€‚ä»–ä»¬ä¸€è¾¹æ‹ä¸€è¾¹ç¬‘ã€‚å°æœºå™¨äººè¯´ï¼šâ€œClap, clap, clap!ï¼ˆæ‹æ‹æ‹ï¼ï¼‰â€",
        audio: "story_day19.mp3"
      },
      scenarioText: "My hand. Your hand. Clap your hands. High five! Little finger.",
      scenarioAudio: "scenario_day19.mp3"
    },

    20: {
      title: "Day 20: Open & Close",
      icon: <IconOpen />,
      vocab: [
        {
          word: "open",
          cn: "æ‰“å¼€",
          icon: <IconOpen />,
          sentence: "Open the door.",
          audioWord: "word_open.mp3",
          audioSent: "sent_open_the_door.mp3"
        },
        {
          word: "close",
          cn: "å…³ä¸Š",
          icon: <IconClose />,
          sentence: "Close the door.",
          audioWord: "word_close.mp3",
          audioSent: "sent_close_the_door.mp3"
        },
        {
          word: "door",
          cn: "é—¨",
          icon: <IconDoor />,
          sentence: "Open the door.",
          audioWord: "word_door.mp3",
          audioSent: "sent_open_the_door.mp3"
        },
        {
          word: "box",
          cn: "ç›’å­",
          icon: <IconBox />,
          sentence: "Open the box.",
          audioWord: "word_box.mp3",
          audioSent: "sent_open_the_box.mp3"
        }
      ],
      script: [
        {
          step: 1,
          action: "åŠ¨ä½œï¼šç«™åœ¨é—¨å‰ï¼Œæ‰‹æ”¾åœ¨é—¨æŠŠä¸Šï¼Œå…ˆä¸è¦åŠ¨",
          parentSay: "Open or close?",
          cn: "æ‰“å¼€è¿˜æ˜¯å…³ä¸Šå‘¢ï¼Ÿ",
          tip: "å…ˆé—®é—®å­©å­ï¼Œè®©ä»–ç”¨æ‰‹æŒ‡æŒ‡ä¸€æŒ‡ï¼Œå¢åŠ å‚ä¸æ„Ÿã€‚",
          audio: "guide_day20_step1.mp3"
        },
        {
          step: 2,
          action: "åŠ¨ä½œï¼šæ…¢æ…¢æŠŠé—¨æ‰“å¼€ä¸€æ¡å°ç¼ï¼Œå†å®Œå…¨æ‰“å¼€",
          parentSay: "Open the door.",
          cn: "æŠŠé—¨æ‰“å¼€ã€‚",
          tip: "å¯ä»¥å‡è£…é—¨åæœ‰æƒŠå–œï¼Œæ‰“å¼€æ—¶å‘å‡ºâ€œå“‡â€”â€”â€çš„å£°éŸ³ã€‚",
          audio: "guide_day20_step2.mp3"
        },
        {
          step: 3,
          action: "åŠ¨ä½œï¼šè¯·å­©å­ç”¨æ‰‹æŠŠé—¨è½»è½»å…³ä¸Š",
          parentSay: "Close the door.",
          cn: "æŠŠé—¨å…³ä¸Šã€‚",
          tip: "å¯ä»¥æ¢æˆæŠ½å±‰ã€ç›’å­ã€ä¹¦æœ¬ï¼Œä¸€èµ·ç©â€œå¼€å¼€å…³å…³â€çš„æ¸¸æˆã€‚",
          audio: "guide_day20_step3.mp3"
        }
      ],
      story: {
        title: "Open the Door, Close the Door",
        textEn: "Little Robot stands in front of a big door. Mom asks, \"Open or close?\" Robot points to the door. Mom turns the handle and says, \"Open the door.\" The door opens with a soft creak. Behind the door is a box of toys. Robot smiles. After play time, Mom says, \"Close the door.\" Robot pushes the door gently. Click. The room is quiet again. Robot whispers, \"Open, close. Open, close.\"",
        textCn: "å°æœºå™¨äººç«™åœ¨ä¸€æ‰‡å¤§é—¨å‰ã€‚å¦ˆå¦ˆé—®ï¼šâ€œOpen or close?ï¼ˆæ‰“å¼€è¿˜æ˜¯å…³ä¸Šï¼Ÿï¼‰â€å°æœºå™¨äººç”¨æ‰‹æŒ‡äº†æŒ‡é—¨ã€‚å¦ˆå¦ˆè½¬åŠ¨é—¨æŠŠæ‰‹ï¼Œè¯´ï¼šâ€œOpen the door.ï¼ˆæŠŠé—¨æ‰“å¼€ã€‚ï¼‰â€é—¨â€œå±å‘€â€ä¸€å£°æ…¢æ…¢æ‰“å¼€ï¼Œé—¨åé¢æ˜¯ä¸€ç›’ç©å…·ã€‚å°æœºå™¨äººç¬‘äº†ã€‚ç©å®Œä»¥åï¼Œå¦ˆå¦ˆè¯´ï¼šâ€œClose the door.ï¼ˆæŠŠé—¨å…³ä¸Šã€‚ï¼‰â€å°æœºå™¨äººè½»è½»æŠŠé—¨æ¨å›å»ï¼Œâ€œå’”å—’â€ä¸€å£°ï¼Œæˆ¿é—´åˆå®‰é™ä¸‹æ¥ã€‚å°æœºå™¨äººå°å£°è¯´ï¼šâ€œOpen, close. Open, close.ï¼ˆå¼€å¼€å…³å…³ã€‚ï¼‰â€",
        audio: "story_day20.mp3"
      },
      scenarioText: "Open the door. Close the door. Open the box. Close the box.",
      scenarioAudio: "scenario_day20.mp3"
    },

    21: {
      title: "Day 21: Let's Play! (Review)",
      icon: <IconPlayWeek />,
      vocab: [
        { word: "ball",  cn: "çƒ",     icon: <IconBall />,   sentence: "Throw the ball.",          audioWord: "word_ball.mp3",  audioSent: "sent_throw_the_ball.mp3" },
        { word: "throw", cn: "æ‰” / æŠ›", icon: <IconThrow />,  sentence: "Throw the ball to me.",   audioWord: "word_throw.mp3", audioSent: "sent_throw_the_ball_to_me.mp3" },
        { word: "run",   cn: "è·‘",     icon: <IconRun />,    sentence: "Run, run, run.",          audioWord: "word_run.mp3",   audioSent: "sent_run_run_run.mp3" },
        { word: "jump",  cn: "è·³",     icon: <IconJump />,   sentence: "Jump, jump, jump!",       audioWord: "word_jump.mp3",  audioSent: "sent_jump_jump_jump.mp3" },
        { word: "car",   cn: "æ±½è½¦",   icon: <IconCar />,    sentence: "Beep, beep, car!",        audioWord: "word_car.mp3",   audioSent: "sent_beep_beep_car.mp3" },
        { word: "beep",  cn: "å˜€å˜€",   icon: <IconBeep />,   sentence: "Beep, beep!",             audioWord: "word_beep.mp3",  audioSent: "sent_beep_beep.mp3" },
        { word: "blue",  cn: "è“è‰²",   icon: <IconBlue />,   sentence: "I see blue.",             audioWord: "word_blue.mp3",  audioSent: "sent_i_see_blue.mp3" },
        { word: "green", cn: "ç»¿è‰²",   icon: <IconGreen />,  sentence: "I see green.",            audioWord: "word_green.mp3", audioSent: "sent_i_see_green.mp3" },
        { word: "hand",  cn: "æ‰‹",     icon: <IconHand />,   sentence: "Clap your hands.",        audioWord: "word_hand.mp3",  audioSent: "sent_clap_your_hands.mp3" },
        { word: "clap",  cn: "æ‹æ‰‹",   icon: <IconClap />,   sentence: "Clap, clap, clap.",       audioWord: "word_clap.mp3",  audioSent: "sent_clap_clap_clap.mp3" },
        { word: "open",  cn: "æ‰“å¼€",   icon: <IconOpen />,   sentence: "Open the door.",          audioWord: "word_open.mp3",  audioSent: "sent_open_the_door.mp3" },
        { word: "close", cn: "å…³ä¸Š",   icon: <IconClose />,  sentence: "Close the door.",         audioWord: "word_close.mp3", audioSent: "sent_close_the_door.mp3" }
      ],
      script: [
        {
          step: 1,
          action: "åŠ¨ä½œï¼šå‘Šè¯‰å­©å­è¦ç©â€œå¬æŒ‡ä»¤åšåŠ¨ä½œâ€çš„æ¸¸æˆï¼ˆSimon Says ç®€åŒ–ç‰ˆï¼‰",
          parentSay: "Let's play! Listen and do.",
          cn: "æˆ‘ä»¬æ¥ç©æ¸¸æˆï¼å¬ä¸€å¬ï¼Œåšä¸€åšã€‚",
          tip: "å…ˆå’Œå­©å­çº¦å®šå¥½ï¼šå¬åˆ°å•è¯å°±åšåŠ¨ä½œï¼Œåšé”™äº†å°±è¢«æŒ ç—’ç—’ã€‚",
          audio: "guide_day21_step1.mp3"
        },
        {
          step: 2,
          action: "åŠ¨ä½œï¼šè½®æµä¸‹æŒ‡ä»¤ï¼Œæ¯”å¦‚ ball, run, jump, clap, open",
          parentSay: "Ball! Run! Jump! Clap your hands!",
          cn: "çƒï¼è·‘ï¼è·³ï¼æ‹æ‹æ‰‹ï¼",
          tip: "èŠ‚å¥å¯ä»¥æ…¢æ…¢åŠ å¿«ï¼Œè®©å­©å­åœ¨â€œç´§å¼ åˆå¥½ç¬‘â€çš„çŠ¶æ€ä¸‹å¤ä¹ æ‰€æœ‰åŠ¨è¯ã€‚",
          audio: "guide_day21_step2.mp3"
        },
        {
          step: 3,
          action: "åŠ¨ä½œï¼šæ¸¸æˆç»“æŸåï¼ŒæŠŠå­©å­æŠ±åœ¨æ€€é‡Œï¼Œè¡¨æ‰¬ä»–è¿™ä¸€å‘¨çš„åŠªåŠ›",
          parentSay: "Good job! Let's play again tomorrow.",
          cn: "å¤ªæ£’å•¦ï¼æˆ‘ä»¬æ˜å¤©å†ç©ã€‚",
          tip: "å¤šæ¬¡é‡å¤â€œGood job!â€ ä½œä¸ºç¬¬ä¸‰å‘¨çš„æ”¶å°¾å£å·ã€‚",
          audio: "guide_day21_step3.mp3"
        }
      ],
      story: {
        title: "Let's Play!",
        textEn: "It is game day. Little Robot stands in the middle of the room. Mom smiles and says, \"Let's play!\" She holds a ball and says, \"Ball!\" Robot throws the ball. Mom says, \"Run!\" Robot runs. \"Jump!\" Robot jumps. \"Clap your hands!\" Clap, clap, clap. Mom points to the door. \"Open the door. Close the door.\" Robot opens and closes the door with a giggle. At the end, Mom gives him a big hug and says, \"Good job!\" Robot laughs and says, \"Let's play again!\"",
        textCn: "ä»Šå¤©æ˜¯æ¸¸æˆæ—¥ã€‚å°æœºå™¨äººç«™åœ¨æˆ¿é—´ä¸­é—´ã€‚å¦ˆå¦ˆç¬‘ç€è¯´ï¼šâ€œLet's play!ï¼ˆæˆ‘ä»¬æ¥ç©å§ï¼ï¼‰â€å¥¹æ‹¿èµ·ä¸€ä¸ªçƒï¼Œè¯´ï¼šâ€œBall!ï¼ˆçƒï¼ï¼‰â€å°æœºå™¨äººæŠŠçƒæ‰”å‡ºå»ã€‚å¦ˆå¦ˆè¯´ï¼šâ€œRun!ï¼ˆè·‘ï¼ï¼‰â€å°æœºå™¨äººå°±è·‘èµ·æ¥ã€‚â€œJump!ï¼ˆè·³ï¼ï¼‰â€å°æœºå™¨äººå°±è·³èµ·æ¥ã€‚â€œClap your hands!ï¼ˆæ‹æ‹æ‰‹ï¼ï¼‰â€ clap, clap, clapã€‚å¦ˆå¦ˆæŒ‡å‘é—¨ï¼Œè¯´ï¼šâ€œOpen the door. Close the door.ï¼ˆæŠŠé—¨æ‰“å¼€ï¼Œå†å…³ä¸Šã€‚ï¼‰â€å°æœºå™¨äººä¸€è¾¹å¼€é—¨å…³é—¨ï¼Œä¸€è¾¹å’¯å’¯ç¬‘ã€‚æœ€åï¼Œå¦ˆå¦ˆç»™äº†ä»–ä¸€ä¸ªå¤§å¤§çš„æ‹¥æŠ±ï¼Œè¯´ï¼šâ€œGood job!ï¼ˆå¤ªæ£’å•¦ï¼ï¼‰â€å°æœºå™¨äººç¬‘ç€è¯´ï¼šâ€œLet's play again!ï¼ˆæˆ‘ä»¬å†ç©ä¸€æ¬¡ï¼ï¼‰â€",
        audio: "story_day21.mp3"
      },
      scenarioText: "Ball! Throw the ball. Run, run, run. Jump, jump, jump. Clap your hands. Open the door. Close the door. Let's play!",
      scenarioAudio: "scenario_day21.mp3"
    }
  };

  // -------- React App --------
  const DayApp = () => {
    const content = allContent[dayNumber];

    const [activeTab, setActiveTab] = useState("learn");
    const [isPlaying, setIsPlaying] = useState(false);
    const [currentFile, setCurrentFile] = useState(null);
    const [currentTime, setCurrentTime] = useState(0);
    const [duration, setDuration] = useState(0);
    const audioRef = useRef(new Audio());

    const [currentVocabIndex, setCurrentVocabIndex] = useState(0);
    const [showVocabTranslation, setShowVocabTranslation] = useState(false);
    const [showStoryTranslation, setShowStoryTranslation] = useState(false);
    const [currentStep, setCurrentStep] = useState(0);

    const touchStartX = useRef(0);
    const touchEndX = useRef(0);

    useEffect(() => {
      const audio = audioRef.current;
      const updateTime = () => setCurrentTime(audio.currentTime);
      const onLoadedMetadata = () => {
        if (!isNaN(audio.duration)) setDuration(audio.duration);
      };
      const onEnded = () => {
        setIsPlaying(false);
        setCurrentTime(0);
      };

      audio.addEventListener("timeupdate", updateTime);
      audio.addEventListener("loadedmetadata", onLoadedMetadata);
      audio.addEventListener("ended", onEnded);

      return () => {
        audio.removeEventListener("timeupdate", updateTime);
        audio.removeEventListener("loadedmetadata", onLoadedMetadata);
        audio.removeEventListener("ended", onEnded);
        audio.pause();
      };
    }, []);

    const handlePlayClick = (filename) => {
      const audio = audioRef.current;

      if (currentFile === filename) {
        if (isPlaying) {
          audio.pause();
          setIsPlaying(false);
        } else {
          audio.play().then(() => setIsPlaying(true));
        }
        return;
      }

      audio.src = filename;
      setCurrentFile(filename);
      setCurrentTime(0);
      setDuration(0);

      audio.play()
        .then(() => setIsPlaying(true))
        .catch((err) => {
          console.error("æ’­æ”¾å¤±è´¥", err);
          alert("æ‰¾ä¸åˆ°éŸ³é¢‘æ–‡ä»¶: " + filename + "\nè¯·ç¡®ä¿ mp3 æ–‡ä»¶å’Œ html åœ¨åŒä¸€ç›®å½•ã€‚");
          setIsPlaying(false);
        });
    };

    const handleSeek = (e) => {
      const t = parseFloat(e.target.value);
      setCurrentTime(t);
      audioRef.current.currentTime = t;
    };

    const formatTime = (t) => {
      if (!t || isNaN(t)) return "0:00";
      const mins = Math.floor(t / 60);
      const secs = Math.floor(t % 60);
      return `${mins}:${secs < 10 ? "0" : ""}${secs}`;
    };

    const nextCard = () => {
      if (currentVocabIndex < content.vocab.length - 1) {
        setCurrentVocabIndex((prev) => prev + 1);
        setShowVocabTranslation(false);
      }
    };
    const prevCard = () => {
      if (currentVocabIndex > 0) {
        setCurrentVocabIndex((prev) => prev - 1);
        setShowVocabTranslation(false);
      }
    };

    const handleTouchStart = (e) => {
      touchStartX.current = e.targetTouches[0].clientX;
    };
    const handleTouchMove = (e) => {
      touchEndX.current = e.targetTouches[0].clientX;
    };
    const handleTouchEnd = () => {
      if (!touchStartX.current || !touchEndX.current) return;
      const diff = touchStartX.current - touchEndX.current;
      if (diff > 50) nextCard();
      if (diff < -50) prevCard();
      touchStartX.current = 0;
      touchEndX.current = 0;
    };

    return (
      <div className="flex flex-col min-h-screen max-w-md mx-auto bg-slate-50 shadow-2xl relative pb-28">
        {/* Header */}
        <header className="bg-blue-500 text-white p-4 shadow-md text-center sticky top-0 z-10">
          <h1 className="text-xl font-bold flex items-center justify-center gap-2">
            {content.icon} {content.title}
          </h1>
          <p className="text-xs text-blue-100">Play Time Week Â· Day {dayNumber}</p>
        </header>

        {/* Main */}
        <main className="flex-1 p-4 overflow-y-auto pb-24 hide-scrollbar">
          {/* å•è¯ */}
          {activeTab === "learn" && (() => {
            const item = content.vocab[currentVocabIndex];
            return (
              <div
                className="flex-1 flex flex-col justify-center items-center space-y-6 animate-fade-in"
                onTouchStart={handleTouchStart}
                onTouchMove={handleTouchMove}
                onTouchEnd={handleTouchEnd}
              >
                {/* è¿›åº¦ç‚¹ */}
                <div className="flex gap-1 mb-2 flex-wrap justify-center max-w-xs">
                  {content.vocab.map((_, idx) => (
                    <div
                      key={idx}
                      className={`h-2 rounded-full transition-all duration-300 ${
                        idx === currentVocabIndex ? "w-6 bg-blue-500" : "w-2 bg-gray-300"
                      }`}
                    ></div>
                  ))}
                </div>

                <div className="bg-white w-full rounded-3xl p-8 shadow-xl flex flex-col items-center relative min-h-[380px] justify-between border-b-8 border-blue-100">
                  <div className="flex-1 flex flex-col items-center justify-center w-full">
                    <p className="text-xs text-gray-400 mb-2">
                      Word {currentVocabIndex + 1} of {content.vocab.length}
                    </p>
                    <div className="mb-6 transform scale-110">
                      {item.icon}
                    </div>

                    <h3
                      className="text-4xl font-extrabold text-gray-800 mb-2 cursor-pointer active:scale-95 transition-transform text-center text-blue-600"
                      onClick={() => handlePlayClick(item.audioWord)}
                    >
                      {item.word}
                      <span className="text-lg text-blue-300 ml-1">ğŸ”ˆ</span>
                    </h3>
                    <p className="text-xs text-gray-400 mb-4">(ç‚¹å‡»å•è¯æ’­æ”¾è¯»éŸ³)</p>

                    <div
                      onClick={() => setShowVocabTranslation(true)}
                      className="w-full text-center py-4 px-2 rounded-xl bg-gray-50 cursor-pointer"
                    >
                      <p
                        className={`text-xl font-medium text-gray-700 transition-all duration-500 ${
                          showVocabTranslation ? "revealed" : "blur-reveal"
                        }`}
                      >
                        {item.cn}
                      </p>
                      {!showVocabTranslation && (
                        <p className="text-xs text-gray-400 mt-[-20px] pointer-events-none">
                          ç‚¹å‡»æ˜¾ç¤ºä¸­æ–‡
                        </p>
                      )}
                    </div>
                  </div>

                  <div className="w-full mt-6 bg-blue-50 rounded-2xl p-4 flex items-center justify-between border border-blue-100">
                    <span className="text-blue-900 font-medium text-lg italic">
                      "{item.sentence}"
                    </span>
                    <button
                      onClick={() => handlePlayClick(item.audioSent)}
                      className="btn-press bg-blue-500 text-white p-3 rounded-full shadow-lg hover:bg-blue-600 transition ml-3"
                    >
                      <IconVolume />
                    </button>
                  </div>
                </div>

                <div className="flex justify-between w-full px-4 text-gray-400">
                  <button
                    onClick={prevCard}
                    disabled={currentVocabIndex === 0}
                    className="disabled:opacity-20 p-2 text-3xl btn-press"
                  >
                    â¬…ï¸
                  </button>
                  <span className="text-sm mt-2 opacity-50">
                    {currentVocabIndex + 1} / {content.vocab.length}
                  </span>
                  <button
                    onClick={nextCard}
                    disabled={currentVocabIndex === content.vocab.length - 1}
                    className="disabled:opacity-20 p-2 text-3xl btn-press"
                  >
                    â¡ï¸
                  </button>
                </div>
              </div>
            );
          })()}

          {/* ç£¨è€³æœµ */}
          {activeTab === "audio" && (
            <div className="bg-white rounded-2xl p-6 shadow-lg text-center space-y-6 mt-4 animate-fade-in">
              <div className="text-6xl">ğŸ§</div>
              <div>
                <h2 className="text-xl font-bold">æƒ…æ™¯ç£¨è€³æœµ</h2>
                <p className="text-gray-500 text-sm mt-1">æŠŠä»Šå¤©çš„å•è¯è¿æˆä¸€å°æ®µè¯</p>
              </div>
              <div className="bg-gray-100 rounded-xl p-4 text-left">
                <p className="text-gray-600 font-mono text-sm leading-relaxed">
                  {content.scenarioText}
                </p>
              </div>
              <div className="space-y-4">
                <button
                  onClick={() => handlePlayClick(content.scenarioAudio)}
                  className="btn-press w-full py-6 rounded-xl flex items-center justify-center gap-3 font-bold text-xl text-white shadow-lg transition transform hover:scale-105 bg-blue-500 hover:bg-blue-600"
                >
                  {isPlaying && currentFile === content.scenarioAudio ? (
                    <>
                      <IconPause /> æš‚åœæƒ…æ™¯éŸ³é¢‘
                    </>
                  ) : (
                    <>
                      <IconPlay /> æ’­æ”¾æƒ…æ™¯éŸ³é¢‘
                    </>
                  )}
                </button>

                {currentFile === content.scenarioAudio && (
                  <div className="bg-gray-50 p-3 rounded-xl">
                    <div className="flex items-center gap-2 mb-2">
                      <span className="text-xs text-gray-500">
                        {formatTime(currentTime)}
                      </span>
                      <input
                        type="range"
                        min="0"
                        max={duration || 0}
                        step="0.1"
                        value={currentTime}
                        onChange={handleSeek}
                        className="flex-1"
                      />
                      <span className="text-xs text-gray-500">
                        {formatTime(duration)}
                      </span>
                    </div>
                  </div>
                )}
              </div>
            </div>
          )}

          {/* å‰§æœ¬ */}
          {activeTab === "guide" && (
            <div className="space-y-4 animate-fade-in">
              {content.script.map((step, index) => (
                <div
                  key={index}
                  className={`bg-white rounded-xl shadow overflow-hidden transition-all duration-300 ${
                    currentStep === index ? "ring-2 ring-blue-400" : "opacity-90"
                  }`}
                >
                  <div
                    className="p-3 cursor-pointer flex justify-between items-center bg-gray-50 border-b"
                    onClick={() => setCurrentStep(index)}
                  >
                    <span className="font-bold text-gray-700">Step {step.step}</span>
                    {currentStep === index ? <IconCheck /> : <IconCircle />}
                  </div>
                  {currentStep === index && (
                    <div className="p-4 space-y-3">
                      <div className="text-sm text-gray-700 bg-slate-50 p-2 rounded font-medium">
                        â˜… {step.action}
                      </div>
                      <div className="bg-slate-50 p-3 rounded-xl border border-slate-200 relative">
                        <p className="text-xs text-gray-400 uppercase tracking-wide mb-1">
                          å®¶é•¿è¯´:
                        </p>
                        <p className="text-lg font-bold text-gray-800 pr-8">
                          {step.parentSay}
                        </p>
                        <p className="text-sm text-gray-500 mt-1">
                          ({step.cn})
                        </p>
                        <button
                          onClick={() => handlePlayClick(step.audio)}
                          className="absolute right-2 top-2 text-blue-500 p-2 btn-press"
                        >
                          <IconVolume />
                        </button>
                      </div>
                      <p className="text-xs text-gray-400 italic text-center">
                        "{step.tip}"
                      </p>
                    </div>
                  )}
                </div>
              ))}
            </div>
          )}

          {/* æ•…äº‹ */}
          {activeTab === "story" && (
            <div className="bg-white rounded-2xl p-6 shadow-lg space-y-4 mt-2 animate-fade-in flex flex-col h-full relative">
              <div className="text-center border-b pb-4">
                <h2 className="text-xl font-bold text-blue-600">{content.story.title}</h2>
                <p className="text-xs text-gray-400">Read & Listen</p>
              </div>

              <div className="flex-1 overflow-y-auto space-y-6 pb-2">
                <div className="bg-slate-50 p-4 rounded-xl">
                  <p className="text-lg leading-relaxed font-bold text-gray-800">
                    {content.story.textEn}
                  </p>
                </div>

                <div
                  className="relative p-4 rounded-xl border-2 border-dashed border-gray-200 cursor-pointer hover:bg-gray-50 active:bg-gray-100 transition"
                  onClick={() => setShowStoryTranslation(true)}
                >
                  <p className="text-xs text-gray-400 mb-2 font-bold">
                    ä¸­æ–‡å¤§æ„ï¼ˆç‚¹å‡»æŸ¥çœ‹ï¼‰:
                  </p>
                  <p
                    className={`text-base leading-relaxed text-gray-600 transition-all duration-500 ${
                      showStoryTranslation ? "revealed" : "blur-reveal"
                    }`}
                  >
                    {content.story.textCn}
                  </p>
                </div>
              </div>

              <div className="mt-auto pt-4 space-y-4">
                <button
                  onClick={() => handlePlayClick(content.story.audio)}
                  className="btn-press w-full py-6 rounded-xl flex items-center justify-center gap-3 font-bold text-xl text-white shadow-lg transition transform hover:scale-105 bg-blue-500 hover:bg-blue-600"
                >
                  {isPlaying && currentFile === content.story.audio ? (
                    <>
                      <IconPause /> æš‚åœæ•…äº‹
                    </>
                  ) : (
                    <>
                      <IconPlay /> æ’­æ”¾æ•…äº‹
                    </>
                  )}
                </button>

                {currentFile === content.story.audio && (
                  <div className="bg-gray-50 p-3 rounded-xl">
                    <div className="flex items-center gap-2 mb-2">
                      <span className="text-xs text-gray-500">
                        {formatTime(currentTime)}
                      </span>
                      <input
                        type="range"
                        min="0"
                        max={duration || 0}
                        step="0.1"
                        value={currentTime}
                        onChange={handleSeek}
                        className="flex-1"
                      />
                      <span className="text-xs text-gray-500">
                        {formatTime(duration)}
                      </span>
                    </div>
                  </div>
                )}
              </div>
            </div>
          )}
        </main>

        {/* Bottom Nav */}
        <nav
          className="fixed bottom-0 left-0 right-0 bg-white border-t flex justify-around p-2 pb-safe shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] z-20 max-w-md mx-auto">
          <button
            onClick={() => setActiveTab("learn")}
            className={`flex flex-col items-center p-2 rounded-lg flex-1 ${
              activeTab === "learn" ? "text-blue-600" : "text-gray-400"
            }`}
          >
            <span className="text-xl">ğŸ“–</span>
            <span className="text-xs font-medium">å•è¯</span>
          </button>
          <button
            onClick={() => setActiveTab("audio")}
            className={`flex flex-col items-center p-2 rounded-lg flex-1 ${
              activeTab === "audio" ? "text-blue-600" : "text-gray-400"
            }`}
          >
            <span className="text-xl">ğŸµ</span>
            <span className="text-xs font-medium">ç£¨è€³æœµ</span>
          </button>
          <button
            onClick={() => setActiveTab("guide")}
            className={`flex flex-col items-center p-2 rounded-lg flex-1 ${
              activeTab === "guide" ? "text-blue-600" : "text-gray-400"
            }`}
          >
            <span className="text-xl">ğŸ“‹</span>
            <span className="text-xs font-medium">å‰§æœ¬</span>
          </button>
          <button
            onClick={() => setActiveTab("story")}
            className={`flex flex-col items-center p-2 rounded-lg flex-1 ${
              activeTab === "story" ? "text-blue-600" : "text-gray-400"
            }`}
          >
            <IconBook />
            <span className="text-xs font-medium">æ•…äº‹</span>
          </button>
        </nav>
      </div>
    );
  };

  const root = ReactDOM.createRoot(document.getElementById("root"));
  root.render(<DayApp />);
</script>
</body>
</html>
